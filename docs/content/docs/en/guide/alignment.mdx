---
title: 'Timeline Forced Alignment'
description: 'Get millisecond-precise timestamps with CTC forced alignment'
---

<Callout type="info" title="v3.0 New Feature">
  v3.0 includes a brand new built-in CTC aligner â€” no extra downloads needed, works out of the box!
</Callout>

Use forced alignment models to get higher precision character-level timestamps, ideal for scenarios requiring precise timing.

---

## âš¡ Quick Setup (v3.0+)

v3.0 has a built-in CTC aligner. Simply:

1. Open **Settings > Enhancement > Timeline Alignment**
2. Set **Alignment Mode** to "CTC"
3. Download the alignment model
4. Set the model directory in CTC aligner configuration to the model path (folder)

<Callout type="info" title="Model Download Links">
  **Omnilingual ASR CTC 300M** (Recommended, 1600+ languages, Apache 2.0 license)

  [Hugging Face](https://huggingface.co/csukuangfj2/sherpa-onnx-omnilingual-asr-1600-languages-300M-ctc-int8-2025-11-12/tree/main)

  [HF Mirror (for users in China)](https://hf-mirror.com/csukuangfj2/sherpa-onnx-omnilingual-asr-1600-languages-300M-ctc-int8-2025-11-12/tree/main)

  Please download `model.int8.onnx` and `tokens.txt`, place them in the same folder, then select that folder in settings.

  > âš ï¸ The Omnilingual model requires aligner **v0.2.0 or later**. Check your current version in Settings > About, and update via "Check for Updates".

  <details>
    <summary>Legacy model: MMS-300M (not recommended)</summary>

    [Hugging Face](https://huggingface.co/Corvo007/mms-300m-1130-forced-aligner-onnx/tree/main)

    [HF Mirror (for users in China)](https://hf-mirror.com/Corvo007/mms-300m-1130-forced-aligner-onnx/tree/main)

    Please download all four files, place them in the same folder, then select that folder in settings. This model has no aligner version requirement.
  </details>
</Callout>

---

## ðŸŽ¯ How It Works

High-precision timeline alignment based on CTC (Connectionist Temporal Classification) technology:

- **Millisecond Precision**: Supports character-level timestamp alignment
- **Auto Correction**: Fixes timing drift in Whisper transcription
- **Multi-Language Support**: Supports Chinese, English, Japanese, and more
- **GPU Acceleration**: Supports ONNX Runtime GPU acceleration (if available)

---

## Alignment Mode Comparison

| Mode | Precision | Speed | Use Case |
|:-----|:----------|:------|:---------|
| **Off** | Original | Fastest | Quick preview |
| **CTC** | Millisecond | Medium | Professional subtitle production |

---

## â“ FAQ

### Alignment is slow?

CTC alignment requires computational resources. Optimization tips:
1. Ensure sufficient memory (16GB+ recommended)
2. For long videos, alignment is processed in segments

### Alignment makes timing worse?

This can happen if the source video has poor audio quality, or the alignment model isn't optimized for the specific language/accent. Suggestions:
1. Check the source video audio quality
2. Temporarily disable alignment and use the original timestamps

### Aligner version too old?

The Omnilingual ASR CTC 300M model requires aligner v0.2.0 or later. To fix:
1. Open **Settings > About**
2. Click "Check for Updates" to update the aligner component
3. If the update is unavailable, you can temporarily switch back to the legacy MMS-300M model
