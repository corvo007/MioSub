# Analytics & Monitoring

## Platform Configuration

### Sentry (Error Tracking)

- **Organization**: `corvo007`
- **Production Project**: `miosub` (use this for issue analysis)
- **Test Project**: `miosub-test` (ignore, for development only)

### Amplitude (Product Analytics)

- **Organization**: `frosty-water-275285`
- **Production Project**: `miosub-3.0` (appId: `781359`)
- **Legacy Project**: `miosub` (appId: `777663`, deprecated)

### Mixpanel (Product Analytics)

- **Production Project**: `miosub` (project_id: `3985897`)
- **Dev Project**: `miosub-dev` (project_id: `3981231`, ignore)

When analyzing issues or statistics, always use the production projects (`miosub` for Sentry/Mixpanel, `miosub-3.0` for Amplitude).

### Analytics Events Reference

See **[docs/analytics-events.md](docs/analytics-events.md)** for a complete list of tracked events and their properties. This document is auto-generated by `yarn docs:analytics`.

Use this reference when:

- Investigating Sentry issues to find related user actions
- Building Amplitude/Mixpanel queries to understand user behavior
- Adding new tracking events (to maintain consistency)

## Analytics Query Guidelines

**DO NOT use AI/natural language query services** provided by analytics platforms:

- ❌ `analyze_issue_with_seer` - Sentry AI analysis (requires paid plan)
- ❌ Any other AI-assisted query features from analytics platforms

**Reasons**:

1. AI queries lose original information - you receive second-hand, potentially incomplete data
2. These features often require paid plans or have limited quotas
3. Claude is a powerful AI capable of analyzing raw data directly

### Sentry Query Strategy

| Tool                   | Use For                                               | Limitation                                         |
| ---------------------- | ----------------------------------------------------- | -------------------------------------------------- |
| `search_issues`        | Get issue list and IDs only                           | Uses `naturalLanguageQuery`, results are summaries |
| `search_events`        | Get event counts and IDs only                         | Uses `naturalLanguageQuery`, results are summaries |
| `get_issue_details`    | **Deep analysis** - full stacktrace, tags, context    | Structured, use this for investigation             |
| `get_issue_tag_values` | **Distribution analysis** - user/browser/os breakdown | Structured, use for pattern analysis               |
| `get_trace_details`    | **Trace correlation** - find related events           | Structured, use for causation analysis             |

### Correct Workflow

1. Use `search_issues` to get issue IDs (keep query simple, e.g., "unresolved issues")
2. Use `get_issue_details` for each issue to get full context
3. Use `get_issue_tag_values` to analyze patterns (user distribution, environment, etc.)
4. Cross-reference with Amplitude/Mixpanel using `query_dataset`, `run_segmentation_query`

### Cross-Platform Data Validation

**IMPORTANT: Always cross-validate data between Amplitude and Mixpanel.**

Single platform data may be incomplete due to:

- Network failures during event transmission
- Client-side SDK initialization timing issues
- Ad blockers or privacy extensions blocking specific tracking domains
- Platform-specific rate limiting or data sampling

**Best Practice**:

- Query the same event/user in both Amplitude and Mixpanel
- If data differs, use the platform with more complete data as primary source
- Document discrepancies in investigation notes
- Never conclude based on "no data found" from a single platform
